{"version":3,"file":"static/js/210.f7c79c03.chunk.js","mappings":"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","sources":["components/AccountPassword.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { loginFailure, loginStart, loginSuccess } from \"../redux/userSlice.js\";\r\nimport { useNavigate } from \"react-router\";\r\nimport Navigation from \"../fragments/Navigation.jsx\";\r\nimport { TfiLock } from \"react-icons/tfi\";\r\nimport { useEffect } from \"react\";\r\nimport SubmitBtn from \"./SubmitBtn.jsx\";\r\nimport DisabledBtn from \"./DisabledBtn.jsx\"\r\nimport FormControl from \"./FormControl.jsx\";\r\nimport InputField from \"./InputField.jsx\";\r\nimport { RestartAnimation } from \"../App.js\";\r\nimport { containsLowercase,containsNumbers,containsUppercase } from \"../fragments/helper.js\";\r\n\r\nconst AccountPassword = ({\r\n  username,\r\n  firstname,\r\n  lastname,\r\n  profileName,\r\n  dateOfBirth,\r\n  email,\r\n  setToggleAccountPassword,\r\n}) => {\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [readyToSignUp, setReadyToSignUp] = useState(false);\r\n  const [passwordMatch,setPasswordMatch] = useState(false)\r\n\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const passwordHasNumbersResult = containsNumbers(password);\r\n  const passwordHasLowercaseResult = containsLowercase(password);\r\n  const passwordHasUppercaseResult = containsUppercase(password);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      passwordMatch \r\n    ) {\r\n      setReadyToSignUp(true);\r\n    } else {\r\n      setReadyToSignUp(false);\r\n    }\r\n\r\n    if(password.toLowerCase() === confirmPassword.toLowerCase() && password.length !== 0){\r\n      setPasswordMatch(true)\r\n    }else{\r\n      setPasswordMatch(false)\r\n    }\r\n  }, [password,confirmPassword,passwordMatch]);\r\n\r\n  const cleanUp = () => {\r\n    setPassword(\"\");\r\n    setConfirmPassword(\"\");\r\n  };\r\n\r\n  const handleSigninClick = (e) => {\r\n    handleSignUp(e);\r\n    document.querySelector(\"#password\").value = \"\";\r\n    document.querySelector(\"#confirmPassword\").value = \"\";\r\n  };\r\n\r\n  const handleSignUp = async (e) => {\r\n    e.preventDefault();\r\n    dispatch(loginStart());\r\n    try {\r\n      const res = await axios.post(\"/auth/signup\", { profileName,username,firstname,lastname,dateOfBirth,email,password });\r\n      console.log(res.data)\r\n      dispatch(loginSuccess(res.data));\r\n      handleLogin(e);\r\n    } catch (err) {\r\n      console.log(err)\r\n      dispatch(loginFailure());\r\n      if (err.response.status === 500) {\r\n        RestartAnimation({message:\"No Connection\"});\r\n      } else if (err.response.status === 409) {\r\n        RestartAnimation({message:\"Profile Name already taken\"});\r\n      } \r\n    }\r\n  };\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    dispatch(loginStart());\r\n    try {\r\n      const res = await axios.post(\"/auth/signin\", {profileName, password });\r\n      dispatch(loginSuccess(res.data));\r\n      console.log(\"Login Successful\");\r\n      navigate(\"/\");\r\n      cleanUp();\r\n    } catch (err) {\r\n      console.log(err)\r\n    //  if (err.response.status === 500) {\r\n    //     console.log(\"No Conncection\");\r\n    //   }\r\n      dispatch(loginFailure());\r\n    }\r\n  };\r\n\r\n  const handleBackBtnCLick = (e) => {\r\n    e.preventDefault();\r\n    setToggleAccountPassword(false);\r\n  };\r\n\r\n  const header = \"account password\";\r\n  return (\r\n    <>\r\n      <div className=\"bg-white dark:bg-black flex flex-col top-0 overflow-scroll hide-scrollbar overflow-scroll z-10 absolute h-[100dvh] w-full items-center justify-center\">\r\n        <Navigation header={header} handleBackBtnCLick={handleBackBtnCLick} />\r\n\r\n        <div className=\"flex text-black flex-col items-center justify-center z-50 w-full lg:w-1/2 overflow-scroll absolute px-[50px]  hide-scrollbar\">\r\n          <TfiLock fontSize={50} className=\"mb-[40px] text-[#00acee]\"/>\r\n\r\n          <form id=\"signUp\" className=\"flex flex-col w-full mb-[0px]\">\r\n            <InputField id=\"password\" placeholder=\"Password\" Func={(e) => setPassword(e.target.value)}/>\r\n              <div className=\"flex flex-col text-sm mb-[20px] h-[40px] flex flex-row\">\r\n                <FormControl Error={password.length <= 8} Name=\"Must contain 8 characters\"/>\r\n                <FormControl Error={!(passwordHasLowercaseResult && passwordHasUppercaseResult)} Name=\"Must contain Small & Capital letters\"/>\r\n                <FormControl Error={!passwordHasNumbersResult} Name=\"Must contain numbers\"/>\r\n              </div>\r\n            <InputField id=\"confirmPassword\" placeholder=\"password\" text=\"Confirm\" Func={(e) => setConfirmPassword(e.target.value)}/>\r\n              <FormControl Error={!passwordMatch} Name=\"Password should match\"/>\r\n          </form>\r\n          {readyToSignUp ? (\r\n            <SubmitBtn Name=\"Create Account\" Func={(e)=>handleSigninClick(e)}/>\r\n          ) : (\r\n            <DisabledBtn Name= \"Missing details\"/>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AccountPassword;\r\n"],"names":["_ref","username","firstname","lastname","profileName","dateOfBirth","email","setToggleAccountPassword","_useState","useState","_useState2","_slicedToArray","password","setPassword","_useState3","_useState4","confirmPassword","setConfirmPassword","_useState5","_useState6","readyToSignUp","setReadyToSignUp","_useState7","_useState8","passwordMatch","setPasswordMatch","dispatch","useDispatch","navigate","useNavigate","passwordHasNumbersResult","containsNumbers","passwordHasLowercaseResult","containsLowercase","passwordHasUppercaseResult","containsUppercase","useEffect","toLowerCase","length","handleSignUp","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","res","wrap","_context","prev","next","preventDefault","loginStart","axios","post","sent","console","log","data","loginSuccess","handleLogin","t0","loginFailure","response","status","RestartAnimation","message","stop","_x","apply","arguments","_ref3","_callee2","_context2","_x2","_jsx","_Fragment","children","_jsxs","className","Navigation","header","handleBackBtnCLick","TfiLock","fontSize","id","InputField","placeholder","Func","target","value","FormControl","Error","Name","text","SubmitBtn","document","querySelector","handleSigninClick","DisabledBtn"],"sourceRoot":""}