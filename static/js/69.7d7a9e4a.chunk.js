"use strict";(self.webpackChunkcash_app=self.webpackChunkcash_app||[]).push([[69],{454:function(e,t,n){var r=n(9439),a=n(390),s=n(5325),o=n(4775),l=n(4251),c=n(7115),i=n(2559);t.Z=function(e){var t=e.src,n=e.crop,u=e.onCropChange,d=e.showGrid,f=(0,o.c)(n.x),x=(0,o.c)(n.y),p=(0,o.c)(n.scale),h=(0,a.useState)(!1),m=(0,r.Z)(h,2),g=m[0],b=m[1],v=(0,a.useState)(!1),w=(0,r.Z)(v,2),y=w[0],j=w[1],Z=(0,a.useRef)(),N=(0,a.useRef)(),k=function(){var e={x:f.get(),y:x.get(),scale:p.get()},t=Z.current.getBoundingClientRect(),n=N.current.getBoundingClientRect(),r=Z.current.clientWidth,a=(t.width-r)/2,s=Z.current.clientHeight,o=(t.height-s)/2;t.left>n.left?e.x=a:t.right<n.right&&(e.x=-(t.width-n.width)+a),t.top>n.top?e.y=o:t.bottom<n.bottom&&(e.y=-(t.height-n.height)+o),(0,l.j)(f,e.x,{type:"tween",duration:.4,ease:[.25,1,.5,1]}),(0,l.j)(x,e.y,{type:"tween",duration:.4,ease:[.25,1,.5,1]}),u(e)};return(0,s.T2)({onDrag:function(e){var t=e.dragging,n=(0,r.Z)(e.movement,2),a=n[0],s=n[1];f.stop(),x.stop(),b(t),f.set(a),x.set(s)},onPinch:function(e){var t,n=e.pinching,a=e.memo,s=(0,r.Z)(e.offset,1)[0],o=(0,r.Z)(e.origin,2),l=o[0],c=o[1];f.stop(),x.stop(),j(n),null!==(t=a)&&void 0!==t||(a={bounds:Z.current.getBoundingClientRect(),crop:{x:f.get(),y:x.get(),scale:p.get()}});var i=a.bounds.x+a.bounds.width/2,u=a.bounds.y+a.bounds.height/2,d=(i-l)/a.crop.scale,h=(u-c)/a.crop.scale,m=s-50*(a.crop.scale-1);return p.set(1+s/50),f.set(a.crop.x+d*m/50),x.set(a.crop.y+h*m/50),a},onDragEnd:k,onPinchEnd:k},{drag:{initial:function(){return[f.get(),x.get()]}},pinch:{distanceBounds:{min:0}},domTarget:Z,eventOptions:{passive:!1}}),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"w-full relative overflow-y-hidden",children:(0,i.jsxs)("div",{ref:N,className:" w-full absolute overflow-hidden hide-scrollbar aspect-square",children:[(0,i.jsx)(c.E.img,{src:t,ref:Z,style:{x:f,y:x,scale:p,touchAction:"none"},className:"relative w-full h-auto max-w-none max-h-none hide-scrollbar"}),d&&(0,i.jsxs)("div",{className:"border border-gray-50 w-full pointer-events-none absolute inset-0 trabsition duration-300 ".concat(g||y?"opacity-100":"opacity-0"),children:[(0,i.jsxs)("div",{className:"absolute inset-0 flex flex-col",children:[(0,i.jsx)("div",{className:"self-stretch flex-1 border-b border-gray-50"}),(0,i.jsx)("div",{className:"self-stretch flex-1 border-b border-gray-50"}),(0,i.jsx)("div",{className:"self-stretch flex-1"})]}),(0,i.jsxs)("div",{className:"absolute inset-0 flex",children:[(0,i.jsx)("div",{className:"self-stretch flex-1 border-r border-gray-50"}),(0,i.jsx)("div",{className:"self-stretch flex-1 border-r border-gray-50"}),(0,i.jsx)("div",{className:"self-stretch flex-1"})]})]})]})})})}},7069:function(e,t,n){n.r(t);var r=n(4942),a=n(1413),s=n(4165),o=n(5861),l=n(9439),c=n(454),i=n(7115),u=n(390),d=n(5032),f=n(5838),x=n(2e3),p=n(7513),h=n(9134),m=n(1750),g=n(1144),b=n(8464),v=n(2559);t.default=function(e){var t=e.setToggleAddpost,n=e.toggleAddpost,w=e.postType,y=e.showGrid,j=e.setToggleAddPhoto,Z=(0,u.useState)({x:0,y:0,scale:1}),N=(0,l.Z)(Z,2),k=N[0],C=N[1],F=(0,u.useState)(null),S=(0,l.Z)(F,2),B=S[0],A=S[1],P=(0,u.useState)(),D=(0,l.Z)(P,2),R=D[0],T=D[1],I=(0,u.useState)(void 0),L=(0,l.Z)(I,2),z=L[0],E=L[1],U=(0,u.useState)({}),G=(0,l.Z)(U,2),q=G[0],H=G[1],K=(0,u.useState)(0),_=(0,l.Z)(K,2),J=_[0],M=_[1],W=(0,m.I0)(),X=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.files[0],T(n),(r=new FileReader).readAsDataURL(n),r.onload=function(e){A(e.target.result)};case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,u.useEffect)((function(){z&&function(e,t){var n=(0,x.cF)(p.ZP),s=(new Date).getTime()+e.name,o=(0,x.iH)(n,s),l=(0,x.B0)(o,e);l.on("state_changed",(function(e){var n=e.bytesTransferred/e.totalBytes*100;"Url"===t&&M(Math.round(n)),e.state}),(function(e){}),(function(){(0,x.Jt)(l.snapshot.ref).then((function(e){H((function(n){return(0,a.Z)((0,a.Z)({},n),{},(0,r.Z)({},t,e))}))}))}))}(z,"Url")}),[z]);var O=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(""),t.preventDefault(),e.next=4,(0,f.cA)({dataURL:B,crop:k,fileName:R.name,aspectRatio:1});case 4:n=e.sent,E(n),100===J&&V();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=(0,o.Z)((0,s.Z)().mark((function e(n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,h.Z.post("/images",(0,a.Z)((0,a.Z)({},q),{},{postType:w}));case 3:r=e.sent,W((0,g.q2)(r.data)),200===r.status&&t(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=(0,v.jsx)(v.Fragment,{});return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("div",{as:i.E.div,className:"bg-white dark:bg-black flex flex-col top-0 overflow-scroll z-10 absolute w-full h-full",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,v.jsxs)("div",{className:"flex w-full h-full pt-[50px] hide-scrollbar ",children:[(0,v.jsx)(d.Z,{handleBackBtnCLick:function(e){e.preventDefault(),t(!1),n||j(!1)},nextbtn:Q,header:"Add Photo"}),(0,v.jsx)("div",{className:"flex flex-row relative w-full m-px align-center justify-content: center mb-[50px]",children:B?(0,v.jsx)(c.Z,{file:R,src:B,crop:k,onCropChange:C,showGrid:y}):(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("label",{htmlFor:"img",children:(0,v.jsxs)("div",{className:"flex flex-row p-[10px] items-center gap-[2px] justify-start w-full",children:[(0,v.jsx)("input",{className:"hidden p-[10px]",id:"img",type:"file",accept:"image/*",onChange:function(e){return X(e)}}),(0,v.jsxs)("h2",{className:"flex flex-row color-gray-500 gap-4 font-normal text-xl m-6",children:[(0,v.jsx)(b.mxp,{fontSize:50}),"Select pictures from your gallery"]})]})})})}),(0,v.jsxs)("div",{className:"flex flex-col w-full absolute gap-[20px] items-center bottom-0 p-[20px] pt-[50px]",children:[B&&(0,v.jsx)("textarea",{id:"textarea",className:" p-[10px] rounded-[6px]  border-2 border-[#999] outline-none resize-none w-full bg-[#f5f5f5] dark:bg-[#202020] hide-scrollbar",name:"desc",placeholder:"Add caption...",row:8,onChange:function(e){H((function(t){return(0,a.Z)((0,a.Z)({},t),{},(0,r.Z)({},e.target.name,e.target.value))}))},maxLength:200}),B&&(0,v.jsxs)(v.Fragment,{children:[0===J?(0,v.jsx)("button",{className:"flex flex-row items-center justify-center p-[8px] w-[60%] rounded-full my-2 mt-[20px] font-xl",style:{backgroundColor:"#00acee",color:"white"},type:"button",onClick:O,children:"Upload"}):"",100===J&&(0,v.jsx)("button",{className:"flex flex-row items-center justify-center p-[8px] w-[60%] rounded-full my-2 mt-[20px] font-xl",style:{backgroundColor:"#00acee",color:"white"},type:"button",onClick:V,children:"Post"})]})]})]})})})}},7513:function(e,t,n){n.d(t,{Ap:function(){return l},I8:function(){return o}});var r=n(1355),a=n(656),s=(0,r.ZF)({apiKey:"AIzaSyDqf0PFlXP0sZe2Ff-ncFhxbC2HwVtXyEM",authDomain:"video-ceedb.firebaseapp.com",projectId:"video-ceedb",storageBucket:"video-ceedb.appspot.com",messagingSenderId:"265928480230",appId:"1:265928480230:web:f9ec6678d345056b0a3227",measurementId:"G-LP51K47LK9"}),o=(0,a.v0)(),l=new a.hJ;t.ZP=s},5032:function(e,t,n){n(390);var r=n(2271),a=n(2559);t.Z=function(e){var t=e.header,n=e.handleBackBtnCLick,s=e.savebtn,o=e.nextbtn,l=e.savebtn2,c=e.cancelbtn,i=e.searchbar;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:" flex flex-row top-0 z-10 absolute w-full lg:border-b-[3px] border-[#f5f5f5] dark:border-[#202020] h-[50px] lg:h-[60px]",children:(0,a.jsxs)("div",{className:"w-full h-full relative items-center justify-around flex flex-row ",children:[n||c?(0,a.jsx)("button",{className:"flex flex-row cursor-pointer left-0 w-[42px] h-[42px] absolute ml-[4px] items-center hover:border-2 hover:text-[#00acee] border-[#00acee] justify-center hover:rounded-full",onClick:n,children:c||(0,a.jsx)(r.WmF,{fontSize:25})}):"",(0,a.jsx)("h2",{className:"font-medium text-xl",children:t}),s,l,i,o]})})})}}}]);
//# sourceMappingURL=69.7d7a9e4a.chunk.js.map