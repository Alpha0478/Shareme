"use strict";(self.webpackChunkcash_app=self.webpackChunkcash_app||[]).push([[464],{1049:function(e,l,n){n(390);var t=n(2559);l.Z=function(e){var l,n,s=e.imageSrc,i=e.Func;return e.FromProfile?(l="100px",n="100px"):(l="46px",n="46px"),(0,t.jsx)("img",{src:s,alt:"profile pic",width:l,height:n,className:"bg-[#999] rounded-full border-2 object-fit border-[#606060] dark:border-white text-transparent",onClick:i})}},7464:function(e,l,n){n.r(l),n.d(l,{default:function(){return w}});var t=n(390),s=n(4165),i=n(5861),r=n(9439),o=n(1750),c=n(2494),u=n(8464),a=n(9134),d=n(1300),f=n(5838),x=n(6441),v=n(8476),h=n(2271),m=n(1049),p=n(2559),j=function(e){var l,j,g,b,w=e.note,y=e.socket,N=t.lazy((function(){return n.e(555).then(n.bind(n,8532))})),k=t.lazy((function(){return Promise.all([n.e(115),n.e(130)]).then(n.bind(n,4615))})),S=(0,t.useState)(!1),z=(0,r.Z)(S,2),Z=z[0],C=z[1],I=(0,t.useState)(!1),_=(0,r.Z)(I,2),F=_[0],P=_[1],H=(0,t.useState)(""),T=(0,r.Z)(H,2),A=T[0],U=T[1],D=(0,o.v9)((function(e){return e.user})).currentUser,L=(0,t.useState)(!1),O=(0,r.Z)(L,2),Q=O[0],W=O[1],$=(0,o.I0)(),q=(0,t.useRef)(null);(0,t.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.Z.get("users/find/".concat(w.userId));case 3:l=e.sent,U(l.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),500===e.t0.response.status&&console.log("No Connnections");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[w.userId]);var E=function(e){null===y||void 0===y||y.emit("sendNotification",{senderName:null===D||void 0===D?void 0:D.name,receiverName:null===A||void 0===A?void 0:A.name,msg:e})},M=function(){D&&(Q||(W(!0),(0,f.q0)({id:null===w||void 0===w?void 0:w._id,postState:x.QM,post:w.postType+"s",userId:null===D||void 0===D?void 0:D._id,dispatch:$,handleNotification:E}),setTimeout((function(){W(!1)}),1e3)))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"bg-inherit w-full h-full relative z-0 snap-end snap-always",children:(0,p.jsxs)("div",{className:"flex flex-col h-screen w-full items-center justify-center",children:[Q&&(0,p.jsx)("div",{className:"flex absolute h-full w-full text-[#00acee] z-100 items-center justify-center",children:null!==w&&void 0!==w&&null!==(l=w.likes)&&void 0!==l&&l.includes(null===D||void 0===D?void 0:D._id)?(0,p.jsx)(d.$g3,{fontSize:100}):(0,p.jsx)(d.AWH,{fontSize:100,style:{color:"gray"}})}),(0,p.jsxs)("div",{ref:q,className:"flex flex-col absolute overflow-hidden top-0 z-60 h-full w-full lg:w-1/2 items-center",onDoubleClick:function(){return M()},children:[(0,p.jsxs)("div",{className:" w-full h-[60px] relative flex flex-row align-center items-center",children:[(0,p.jsxs)("div",{className:"items-center m-4 flex flex-col z-50 relative",children:[(0,p.jsx)(m.Z,{imageSrc:null===A||void 0===A?void 0:A.profileUrl,Func:function(){return null===A||void 0===A||A.name,void C(!0)}}),(null===D||void 0===D?void 0:D._id)!==w.userId&&(0,p.jsx)(p.Fragment,{children:null!==D&&void 0!==D&&null!==(j=D.subscribedUsers)&&void 0!==j&&j.includes(null===A||void 0===A?void 0:A._id)?" ":(0,p.jsx)(p.Fragment,{children:D&&(0,p.jsx)("div",{className:"absolute w-[20px] h-[20px] bottom-[-6px] rounded-full text-[50px] text-white bg-[#00acee]",children:(0,p.jsx)(d.D0w,{fontSize:20,onClick:function(){return(0,f.xe)({userId:w.userId,channelId:null===A||void 0===A?void 0:A._id,handleNotification:E,dispatch:$})}})})})})]}),(0,p.jsx)("div",{className:"flex flex-row z-50 font-medium ml-2 w-[20%] h-5 ",children:"channelname"})]}),(0,p.jsx)("div",{className:"rounded-[30px] border border-[#999] flex flex-row absolute items-center gap-[30px] bottom-[30px] w-[70%] p-2 w-auto items-center ",children:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("button",{style:{color:"gray"},className:"items-center cursor-pointer flex flex-row",onClick:function(){return M()},children:[null!==w&&void 0!==w&&null!==(g=w.likes)&&void 0!==g&&g.includes(null===D||void 0===D?void 0:D._id)?(0,p.jsx)(d.$g3,{fontSize:35,style:{color:"#00acee"}}):(0,p.jsx)(d.AWH,{fontSize:35}),(0,p.jsx)("text",{className:"font-sm",children:null===w||void 0===w||null===(b=w.likes)||void 0===b?void 0:b.length})]}),(0,p.jsx)("button",{style:{color:"gray"},children:(0,p.jsx)(u.Hlg,{fontSize:35,onClick:function(){P(!0)}})}),(0,p.jsx)("button",{style:{color:"gray"},children:(0,p.jsx)(c.ikO,{fontSize:35})}),(0,p.jsx)("button",{style:{color:"gray"},children:(0,p.jsx)(h.L3g,{fontSize:30})})]})}),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:"p-6 h-full w-full  flex flex-col justify-start overflow-auto hide-scrollbar text-xl",children:w.desc})})]})]})}),F&&(0,p.jsx)(t.Suspense,{fallback:(0,p.jsx)(v.Z,{}),children:(0,p.jsx)(N,{setToggleComment:P,post:w,handleNotification:E})}),Z&&(0,p.jsx)(t.Suspense,{children:(0,p.jsx)(k,{type:w,channel:A,setToggleCardProfile:C})})]})},g=n(471),b=n(5328),w=(n(6991),function(e){var l=e.socket,n=(0,o.I0)(),t=(0,o.v9)((function(e){return e.notes})).notes,s=(0,b.ZP)(g.Qj,g.jO,{onSuccess:function(e){return n((0,x.Po)(e))}}),i=s.isLoading,r=s.error;return(0,p.jsx)("div",{id:"videos",className:"flex flex-col absolute h-full w-full pt-0 mb-0 lg:pt-[25px] hide-scrollbar items-center",children:(0,p.jsx)("div",{className:"flex flex-col overflow-scroll pt-0 h-full hide-scrollbar w-full lg:w-3/4 snap-mandatory snap-y",children:i?(0,p.jsx)(v.Z,{}):r?(0,p.jsxs)("div",{className:"flex flex-col  text-lg text-[#cc1a00] h-full w-full items-center justify-center",children:[(0,p.jsx)(h.HlI,{fontSize:50}),"An error occured"]}):null===t||void 0===t?void 0:t.map((function(e){return(0,p.jsx)(j,{note:e,socket:l},e._id)}))})})})}}]);
//# sourceMappingURL=464.b93fdd53.chunk.js.map