{"version":3,"file":"static/js/637.bd884754.chunk.js","mappings":"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","sources":["components/CompleteRegistration.jsx"],"sourcesContent":["import React, { Suspense, useState } from \"react\";\r\nimport Navigation from \"../fragments/Navigation.jsx\";\r\nimport { FaUserCircle } from \"react-icons/fa\";\r\nimport { GoMail } from 'react-icons/go'\r\nimport { useEffect } from \"react\";\r\nimport SubmitBtn from \"./SubmitBtn.jsx\";\r\nimport DisabledBtn from \"./DisabledBtn.jsx\"\r\nimport InputField from \"./InputField.jsx\";\r\nimport FormControl from \"./FormControl.jsx\";\r\nimport { containsSymbols } from \"../fragments/helper.js\";\r\nimport axios from \"axios\";\r\nimport { RestartAnimation } from \"../App.js\";\r\n\r\nconst CompleteRegistration = ({\r\n  setToggleCompleteRegistration,\r\n  firstname,\r\n  lastname,\r\n  dateOfBirth\r\n}) => {\r\n  const AccountPassword = React.lazy(() =>\r\n    import(\"../components/AccountPassword.jsx\")\r\n  );\r\n  const [profileName, setProfileName] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [readyToSignUp, setReadyToSignUp] = useState(false);\r\n  const [toggleAccountPassword, setToggleAccountPassword] = useState(false);\r\n\r\n\r\n  const nameInvldCharResult = containsSymbols(name);\r\n  const profileNameInvldCharResult = containsSymbols(profileName);\r\n\r\n\r\n  useEffect(() => {\r\n    if (\r\n      !nameInvldCharResult &&\r\n      !profileNameInvldCharResult &&\r\n      name.length >= 4 &&\r\n      profileName.length >= 4 &&\r\n      email.includes(\"@\") &&\r\n      name.length <= 15 &&\r\n      name &&\r\n      email\r\n    ) {\r\n      setReadyToSignUp(true);\r\n    } else {\r\n      setReadyToSignUp(false);\r\n    }\r\n  }, [name.length, email.length, profileName.length]);\r\n\r\n  const handleBackBtnCLick = (e) => {\r\n    e.preventDefault();\r\n    setToggleCompleteRegistration(false);\r\n  };\r\n\r\n  const checkUser = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try{\r\n     const res = await axios.post(\"/auth/getuser\", { profileName });\r\n      if(res.status === 200){\r\n       checkEmail(e)\r\n      } \r\n    }catch(err){\r\n      console.log(err)\r\n      if (err.response.status === 409) {\r\n        RestartAnimation({message:\"Profile Name already taken\"});\r\n      } \r\n    }\r\n  }\r\n\r\n  const checkEmail = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try{\r\n    const res = await axios.post(\"/auth/getemail\", { email });\r\n      if(res.status === 200){\r\n        setToggleAccountPassword(true)\r\n      } \r\n    }catch(err){\r\n      if (err.response.status === 409) {\r\n        RestartAnimation({message:\"Email already taken\"});\r\n      } \r\n    }\r\n  }\r\n \r\n  const header = \"username & email\";\r\n  return (\r\n    <>\r\n      <div className=\"bg-white dark:bg-black flex flex-col top-0 overflow-scroll hide-scrollbar overflow-scroll z-10 absolute h-[100dvh] w-full items-center justify-center\">\r\n        <Navigation header={header} handleBackBtnCLick={handleBackBtnCLick} />\r\n\r\n        <div className=\"flex flex-col items-center justify-center z-50 w-full lg:w-1/2 overflow-scroll absolute px-[50px]  hide-scrollbar\">\r\n          <div className=\"flex flex-row text-[#00acee] mb-[40px] items-center gap-5\">\r\n            <FaUserCircle fontSize={40} />\r\n            &\r\n            <GoMail fontSize={50} />\r\n          </div>\r\n\r\n          <form id=\"signUp\" className=\"flex flex-col w-full mb-[0px]\">\r\n            <InputField id=\"username\" placeholder=\"Profile name\" Func={(e) => setProfileName(e.target.value)} />\r\n\r\n            <div className=\"flex w-full flex-col text-sm h-[40px] flex flex-row\">\r\n              <FormControl Error={profileName.length < 4 || profileName.length > 15} Name=\"Must be between 4 to 15 characters\" />\r\n              <FormControl Error={profileNameInvldCharResult} Name=\"should not contain symbols\" />\r\n            </div>\r\n\r\n            <InputField id=\"username\" placeholder=\"Username\" Func={(e) => setName(e.target.value)} />\r\n\r\n\r\n            <div className=\"flex w-full flex-col text-sm h-[40px] flex flex-row\">\r\n              <FormControl Error={name.length < 4 || name.length > 15} Name=\"Must be between 4 to 15 characters\" />\r\n              <FormControl Error={nameInvldCharResult} Name=\"should not contain symbols\" />\r\n            </div>\r\n\r\n            <InputField id=\"email\" placeholder=\"Email\" Func={(e) => setEmail(e.target.value)} />\r\n            <FormControl Error={!email.includes(\"@\")} Name=\"Must contain @\" />\r\n          </form>\r\n\r\n          {readyToSignUp ? (\r\n            <SubmitBtn Name=\"Next\" Func={(e) => checkUser(e)} />\r\n          ) : (\r\n            <DisabledBtn Name=\"Missing details\" />\r\n          )}\r\n        </div>\r\n      </div>\r\n      {toggleAccountPassword && (\r\n        <Suspense>\r\n          <AccountPassword profileName={profileName} firstname={firstname} lastname={lastname} dateOfBirth={dateOfBirth} email={email} username={name} setToggleAccountPassword={setToggleAccountPassword} />\r\n        </Suspense>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CompleteRegistration;\r\n"],"names":["_ref","setToggleCompleteRegistration","firstname","lastname","dateOfBirth","AccountPassword","React","_useState","useState","_useState2","_slicedToArray","profileName","setProfileName","_useState3","_useState4","name","setName","_useState5","_useState6","email","setEmail","_useState7","_useState8","readyToSignUp","setReadyToSignUp","_useState9","_useState10","toggleAccountPassword","setToggleAccountPassword","nameInvldCharResult","containsSymbols","profileNameInvldCharResult","useEffect","length","includes","checkUser","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_context","prev","next","preventDefault","axios","post","sent","status","checkEmail","t0","console","log","response","RestartAnimation","message","stop","_x","apply","arguments","_ref3","_callee2","_context2","_x2","_jsxs","_Fragment","children","className","_jsx","Navigation","header","handleBackBtnCLick","FaUserCircle","fontSize","GoMail","id","InputField","placeholder","Func","target","value","FormControl","Error","Name","SubmitBtn","DisabledBtn","Suspense","username"],"sourceRoot":""}